# Mach详解

## 内核

在操作系统中，都有一个关键的核心组件，叫做**内核（kernel）**。内核能够充分利用底层 CPU 提供的所有特性和能力，为客户提供各种各样的服务。

内核一般分为以下三种：
```
单内核
微内核
混合内核
```
iOS以及Mac OS X 系统的内核就是混合内核，我们叫它 **XNU**。XNU的核心是 Mach。
在 Mach之上建立了一个**BSD层** ，他们都在同一地址空间中，和单内核一样具有较高的运行效率。

## Mach的职责
```
进程和线程管理：我们平时所用到的 POSIX 线程和 NSThread 都是和 Mach 层线程一一对应的，POSIX 线程是BSD 层对 线程的更高层次抽象
虚拟内存的分配和管理
CPU 等物理设备的分配和调度
异常：Mach 在已有的消息传递机制上实现了一种异常处理机制
```
